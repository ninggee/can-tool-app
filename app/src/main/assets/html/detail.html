<html>
<head>
    <title>信息详情</title>
    <script src="file:///android_asset/js/vue.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.0-beta.31/css/uikit.min.css" />

    <!-- UIkit JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.0-beta.31/js/uikit.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.0-beta.31/js/uikit-icons.min.js"></script>
</head>
<body>

<div id="app" class="uk-flex uk-flex-column uk-width-auto" style="margin: 20px">
    <!--<div class="uk-card-default" style="padding-left: 10px; font-size: 16px; height: 40px; vertical-align:middle" v-on:click="back">-->
        <!--<span style="line-height: 40px"><svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" ratio="1"><polyline fill="none" stroke="#000" stroke-width="1.03" points="13 16 7 10 13 4"></polyline></svg>返回</span>-->
    <!--</div>-->
    <div class="uk-card uk-card-default uk-width-auto" >
        <div class="uk-card-header">
            <h6 class="uk-card-title">Can信息</h6>
            <table class="uk-table uk-table-hover uk-table-middle uk-table-divider">
                <thead>
                <tr>
                    <th class="uk-width-medium uk-table-shrink">Time</th>
                    <th class="uk-width-medium uk-width-truncate">Chn</th>
                    <th class="uk-width-medium uk-text-nowrap">ID</th>
                    <th class="uk-width-medium uk-text-nowrap">Name</th>
                    <th class="uk-width-medium uk-text-nowrap">Dir</th>
                    <th class="uk-width-medium uk-text-nowrap">DLC</th>
                    <th class="uk-width-medium uk-text-nowrap">Data</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td class="uk-table-link"><a class="uk-link" href="https://www.baidu.com">{{message.time}}</a></td>
                    <td class="uk-preserve-width">{{message.chn}}</td>
                    <td class="uk-width-medium uk-text-truncate">{{message.id}}</td>
                    <td class="uk-width-medium uk-text-truncate">{{message.name}}</td>
                    <td class="uk-text-nowrap">{{message.dir}}</td>
                    <td class="uk-text-nowrap">{{message.dlc}}</td>
                    <td class="uk-text-truncate">{{message.data}}</td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="uk-card-body">
            <h6 class="uk-card-title">Can信号列表</h6>
            <table class="uk-table uk-table-hover uk-table-middle uk-table-divider">
                <thead>
                    <tr>
                        <th class="uk-width-medium uk-table-shrink">Name</th>
                        <th class="uk-width-medium uk-width-truncate">Value</th>
                        <th class="uk-width-medium uk-text-nowrap">Unit</th>
                        <th class="uk-width-medium uk-text-nowrap">Original value</th>
                    </tr>
                </thead>
                <tbody>
                <tr v-for="signal in message.signals">
                    <td class="uk-table-link"><a class="uk-link" href="https://www.baidu.com">{{signal.name}}</a></td>
                    <td class="uk-preserve-width">{{signal.value}}</td>
                    <td class="uk-width-medium uk-text-truncate">{{signal.canSignal.unit}}</td>
                    <td class="uk-width-medium uk-text-truncate">{{signal.origin}}</td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="uk-card-footer">
            <a href="#" class="uk-button uk-button-text">Read more</a>
        </div>
    </div>
</div>

<script type="text/javascript">
var app = new Vue({
    el: '#app',
    data: {
       id: 0,
       message: {}
    },
    created: function() {
        var id_index = window.location.href.indexOf("?id=")
        this.id = window.location.href.substring(id_index + 4)
        this.message = JSON.parse(Android.getSignalsById(this.id))
        console.log(this.message)
    },
    computed: {

    },
    methods: {
        back: function() {
            console.log("back function called")
        }
    }
})
</script>

</body>
</html>